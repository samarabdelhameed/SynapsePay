# Cargo configuration for Solana SBF programs

[build]
target = "sbf-solana-solana"

[target.sbf-solana-solana]
linker = "platform-tools-sdk/sbf/dependencies/platform-tools/llvm/bin/ld.lld"

# Use the system Rust instead of the old platform-tools Rust
[env]
RUSTC_WRAPPER = ""
RUSTC = "rustc"

# SBF-specific settings
[profile.release]
overflow-checks = true
lto = "fat"
codegen-units = 1
panic = "abort"

[profile.release.build-override]
opt-level = 3
incremental = false
codegen-units = 1